zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: e4085294961c4d678a87d31ab4fb8f63
      template: 'HPE ProLiant DL580 by SNMP custom'
      name: 'HPE ProLiant DL580 by SNMP custom'
      description: |
        Template for HPE ProLiant DL580 servers with HP iLO version 4 and later.
        
        MIBs used:
        HOST-RESOURCES-MIB
        CPQHLTH-MIB
        SNMPv2-MIB
        CPQNIC-MIB
        CPQSINFO-MIB
        CPQIDA-MIB
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: e24a4efd3c6e42ff92022a1882f55fdf
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'hp.server.contact[sysContact]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: dddebe978cdf424ba9c474a333dba870
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'hp.server.descr[sysDescr]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 41594a532cf14be7aaa04feffb5f05e0
          name: 'Hardware model name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.2.2.4.2.0
          key: 'hp.server.hw.model[cpqSiProductName]'
          value_type: CHAR
          trends: '0'
          description: |
            MIB: CPQSINFO-MIB
            The machine product name. The name of the machine used in this system.
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 8629113078c24ba19bf96d95338c02f3
          name: 'Hardware serial number'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.2.2.2.1.0
          key: 'hp.server.hw.serialnumber[cpqSiSysSerialNum]'
          value_type: CHAR
          trends: '0'
          description: |
            MIB: CPQSINFO-MIB
            The serial number of the physical system unit. The string will be empty if the system does not report the serial number function.
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 972fc0961aa4436f8cafc270040478c5
              expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.serialnumber[cpqSiSysSerialNum],#1)<>last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.serialnumber[cpqSiSysSerialNum],#2) and length(last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.serialnumber[cpqSiSysSerialNum]))>0'
              name: 'HPE ProLiant DL580: Device has been replaced'
              event_name: 'HPE ProLiant DL580: Device has been replaced (new serial number received)'
              priority: INFO
              description: 'Device serial number has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: a925408ebc9a419bb9522b46f18c4600
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.25.1.1.0
          key: 'hp.server.hw.uptime[hrSystemUptime]'
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 118693774fb74b6cb9cd9957657ad52f
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'hp.server.location[sysLocation]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 62f6128824f14727a7ae1b49c9c03c1b
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: 'hp.server.name[sysName]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: e9b034ca70894e85b860d16efd0d98fd
              expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.name[sysName],#1)<>last(/HPE ProLiant DL580 by SNMP custom/hp.server.name[sysName],#2) and length(last(/HPE ProLiant DL580 by SNMP custom/hp.server.name[sysName]))>0'
              name: 'HPE ProLiant DL580: System name has changed'
              event_name: 'HPE ProLiant DL580: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: ff08504054ac472cba4a8cbfea3c94db
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'hp.server.net.uptime[sysUpTime]'
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: ffad0513f71b49b582470c5a059002ea
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'hp.server.objectid[sysObjectID]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: f8b8887e1cc049c9b8d707d137787507
          name: 'System temperature status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.6.2.6.1.0
          key: 'hp.server.sensor.temp.status[cpqHeThermalCondition]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            This value specifies the overall condition of the system's thermal environment.
            This value will be one of the following:
            other(1)  Temperature could not be determined.
            ok(2)  The temperature sensor is within normal operating range.
            degraded(3)  The temperature sensor is outside of normal operating range.
            failed(4)  The temperature sensor detects a condition that could  permanently damage the system.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: temperature
        - uuid: 9b5ec2dbfc564cd48d502ff83f8cb65e
          name: 'Overall system health status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.6.1.3.0
          key: 'hp.server.status[cpqHeMibCondition]'
          trends: '0'
          description: |
            MIB: CPQHLTH-MIB
            The overall condition. This object represents the overall status of the server information represented by this MIB.
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: cee16d2b0c3a4573b4b820d3fbe2826c
              expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.CRIT}'
              name: 'HPE ProLiant DL580: System status is in critical state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for errors.'
              tags:
                - tag: scope
                  value: available
            - uuid: 4e59ea1b65454e79bc278a5ba786edcf
              expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.WARN}'
              name: 'HPE ProLiant DL580: System status is in warning state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Please check the device for warnings.'
              dependencies:
                - name: 'HPE ProLiant DL580: System status is in critical state'
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.status[cpqHeMibCondition])={$HEALTH.STATUS.CRIT}'
              tags:
                - tag: scope
                  value: available
        - uuid: b59d424f1baf4fb8a914a976eb6f3ff1
          name: 'IPMI: Duplex'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.9.2.5.1.1.8.2
          key: 'net.ipmi.duplex[net,ipmi,duplex]'
          trends: '0'
          valuemap:
            name: 'CPQNIC-MIB::Duplex'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: network
        - uuid: 762b16fc18f74b8aa7a2234f71e3e2cc
          name: 'IPMI: MAC'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.9.2.5.1.1.4.2
          key: 'net.ipmi.mac[net,ipmi,mac]'
          value_type: CHAR
          trends: '0'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
            - type: SNMP_GET_VALUE
              parameters:
                - '2'
          tags:
            - tag: component
              value: network
        - uuid: 7be25ca08fda4884a02c087c98d67d1a
          name: 'IPMI: Speed'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.9.2.5.1.1.9.2
          key: 'net.ipmi.speed[net,ipmi,speed]'
          delay: 5m
          trends: '0'
          units: bps
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
            - type: MULTIPLIER
              parameters:
                - '1000000'
          tags:
            - tag: component
              value: network
        - uuid: 5c05d44e7e4b4ec290cdeba215ec0840
          name: 'IPMI: Status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.9.2.5.1.1.11.2
          key: 'net.ipmi.status[net,ipmi,status]'
          trends: '0'
          valuemap:
            name: 'CPQSINFO-MIB::status'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: network
        - uuid: c3fadf75587e4b408088717bcb92efd0
          name: 'IPMI: Type'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.232.9.2.5.1.1.3.2
          key: 'net.ipmi.type[net,ipmi,type]'
          trends: '0'
          valuemap:
            name: 'CPQNIC-MIB::IPMIType'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: network
        - uuid: 3c3f2182a56e47348af23402b2a10364
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items.'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 88999b016c01483eb40cef1cbed2ed84
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          valuemap:
            name: zabbix.host.available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: 91104536a3e445659d75ce58e5a6df8b
              expression: 'max(/HPE ProLiant DL580 by SNMP custom/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'HPE ProLiant DL580: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              tags:
                - tag: scope
                  value: available
      discovery_rules:
        - uuid: c4cd0a134464479d9bb6c67dfb945da9
          name: 'Array controller cache discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.3.2.2.2.1.2,1.3.6.1.4.1.232.3.2.2.2.1.1]'
          key: array.cache.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaAccelTable'
          item_prototypes:
            - uuid: a1d4dcc347734cbc9f021e33a346eaac
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller battery status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.2.2.1.6.{#SNMPINDEX}'
              key: 'hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module Board Backup Power Status. This monitors the status of each backup power source on the board.
                The backup power source can only recharge when the system has power applied. The type of backup power source used is indicated by cpqDaAccelBackupPowerSource.
                The following values are valid:
                Other (1)  Indicates that the instrument agent does not recognize  backup power status.  You may need to update your software.
                
                Ok (2)  The backup power source is fully charged.
                
                Recharging (3)  The array controller has one or more cache module backup power  sources that are recharging.
                Cache module operations such as Battery/Flash Backed Write Cache, Expansion, Extension and Migration are temporarily suspended until the backup power source is fully charged.
                Cache module operations will automatically resume  when charging is complete.
                
                Failed (4)  The battery pack is below the sufficient voltage level and  has not recharged in 36 hours.
                Your Cache Module board  needs to be serviced.
                
                Degraded (5)  The battery is still operating, however, one of the batteries  in the pack has failed to recharge properly.
                Your Cache  Module board should be serviced as soon as possible.
                
                NotPresent (6)  A backup power source is not present on the cache module board. Some controllers do not have backup power sources.
                
                Capacitor Failed (7)  The flash backed cache module capacitor is below the sufficient voltage level and has not recharged in 10 minutes.  Your Cache Module board needs to be serviced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelBattery'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 0ebff5c40b894e18b5f702b241d58065
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
                  name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 1b07d1ab30e9489c929bd8cad29d9194
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"degraded"}'
                  name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller battery is in critical state'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.battery.status[cpqDaAccelBattery.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 2cd435f95f3f47e9912ba648526a5b9f
              name: '#{#CACHE_CNTRL_INDEX}: Disk array cache controller status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.2.2.1.2.{#SNMPINDEX}'
              key: 'hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Cache Module/Operations Status. This describes the status of the cache module and/or cache operations.
                Note that for some controller models, a cache module board that physically attaches to the controller or chipset may not be an available option.
                
                The status can be:
                Other (1)
                 Indicates that the instrument agent does not recognize the status of the cache module. You may need to upgrade the instrument agent.
                
                Invalid (2)
                 Indicates that a cache module board has not been installed in this system or is present but not configured.
                
                Enabled (3)
                 Indicates that cache operations are currently configured and enabled for at least one logical drive.
                
                Temporarily Disabled (4)
                 Indicates that cache operations have been temporarily disabled. View the cache module board error code object to determine why the write cache operations have been temporarily disabled.
                
                Permanently Disabled (5)
                 Indicates that cache operations have been permanently disabled. View the cache module board error code object to determine why the write cache operations have been disabled.
                
                Cache Module Flash Memory Not Attached (6)
                 Indicates that the flash memory component of the flash backed cache module is not attached. This status will be set when the flash memory is not attached and the Supercap is attached. This value is only used on flash backed cache modules that support removable flash memory.
                
                Cache Module Degraded Failsafe Speed (7)
                 Indicates that the cache module board is currently degraded and operating at a failsafe speed. View variables cpqDaCacheMemoryDataWidth and cpqDaCacheMemoryTransferRate to obtain the cache module board`s current memory data width and memory transfer rate.
                
                Cache Module Critical Failure (8)
                 Indicates that the cache module board has encountered a critical failure. The controller is currently operating in Zero Memory Raid mode.
                
                Read Cache Could Not Be Mapped (9)
                 Indicates that the read cache memory in a split cache configuration could not be mapped by the operating system and as a result is not available. This status may be caused by virtual space limitations in certain operating systems and is only applicable to B-Series controllers.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaAccelStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 73055c2f31914f089c05156966a5437c
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                  name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 809bca324d1641e89453a0c9335623ea
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
                  name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                  tags:
                    - tag: scope
                      value: available
                - uuid: e03bd2a9c00c41bdbf6cbf92d708a449
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])<>{$DISK.ARRAY.CACHE.STATUS.OK:"enabled"} and last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])<>{$DISK.ARRAY.CACHE.STATUS.WARN:"invalid"}'
                  name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in critical state!'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
                    - name: 'HPE ProLiant DL580: #{#CACHE_CNTRL_INDEX}: Disk array cache controller is in warning state'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.cache.status[cpqDaAccelStatus.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#CACHE_STATUS}'
                - 1.3.6.1.4.1.232.3.2.2.2.1.2
                - '0'
                - '{#CACHE_CNTRL_INDEX}'
                - 1.3.6.1.4.1.232.3.2.2.2.1.1
                - '0'
        - uuid: 04c18803752e4751a18c5d470eb89091
          name: 'Array controller discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.3.2.2.1.1.1,1.3.6.1.4.1.232.3.2.2.1.1.5,1.3.6.1.4.1.232.3.2.2.1.1.20]'
          key: array.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: CPQIDA-MIB::cpqDaCntlrTable'
          item_prototypes:
            - uuid: 01c6dc0521e64482a3e62e849c863206
              name: '{#CNTLR_LOCATION}: Disk array controller model'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.2.1.1.2.{#SNMPINDEX}'
              key: 'hp.server.hw.diskarray.model[cpqDaCntlrModel.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Array Controller Model. The type of controller card.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaCntlrModel'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
            - uuid: 87032810c68f4ce6b65ce7e627d28023
              name: '{#CNTLR_LOCATION}: Disk array controller status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.2.1.1.6.{#SNMPINDEX}'
              key: 'hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                This value represents the overall condition of this controller,
                and any associated logical drives, physical drives, and array accelerators.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 611a50a19f7b41a1a9547b206a2d8ba0
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                  name: 'HPE ProLiant DL580: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: e69d6d48d2b14596969fd227e8a87070
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.WARN}'
                  name: 'HPE ProLiant DL580: {#CNTLR_LOCATION}: Disk array controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: {#CNTLR_LOCATION}: Disk array controller is in critical state'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.diskarray.status[cpqDaCntlrCondition.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#CNTLR_INDEX}'
                - 1.3.6.1.4.1.232.3.2.2.1.1.1
                - '0'
                - '{#CNTLR_SLOT}'
                - 1.3.6.1.4.1.232.3.2.2.1.1.5
                - '0'
                - '{#CNTLR_LOCATION}'
                - 1.3.6.1.4.1.232.3.2.2.1.1.20
                - '0'
        - uuid: bf3b5bb1d8b64ef491489ba34c869f16
          name: 'FAN discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.7.1.9]'
          key: fan.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolFanCondition'
          item_prototypes:
            - uuid: 79bbb6a27ff9494d94d5768e8261d295
              name: 'Fan {#SNMPINDEX}: Fan status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.7.1.9.{#SNMPINDEX}'
              key: 'hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the fan.
                This value will be one of the following:
                other(1)  Fan status detection is not supported by this system or driver.
                ok(2)  The fan is operating properly.
                degraded(2)  A redundant fan is not operating properly.
                failed(4)  A non-redundant fan is not operating properly.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: df38d7db635d4005a2f13fb397201d4d
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.CRIT}'
                  name: 'HPE ProLiant DL580: Fan {#SNMPINDEX}: Fan is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: b22ac71b9e49467ca191eb0039d5e0fa
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.WARN}'
                  name: 'HPE ProLiant DL580: Fan {#SNMPINDEX}: Fan is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: Fan {#SNMPINDEX}: Fan is in critical state'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.fan.status[cpqHeFltTolFanCondition.{#SNMPINDEX}])={$FAN.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#FAN_CONDITION}'
                - 1.3.6.1.4.1.232.6.2.6.7.1.9
                - '0'
        - uuid: 85e72b24e91b40eb858ad9ba4df99c58
          name: 'Physical disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.3.2.5.1.1.5,1.3.6.1.4.1.232.3.2.5.1.1.64]'
          key: physicaldisk.discovery
          delay: 1h
          description: 'Scanning  table of physical drive entries CPQIDA-MIB::cpqDaPhyDrvTable.'
          item_prototypes:
            - uuid: f2c6e5b5b9e84b72a5efc96f1f6f88b5
              name: '{#DISK_LOCATION}: Physical disk media type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.69.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.media_type[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Drive Array Physical Drive Media Type. The following values are defined:
                other(1)  The instrument agent is unable to determine the physical drive's media type.
                rotatingPlatters(2)  The physical drive media is composed of rotating platters.
                solidState(3)  The physical drive media is composed of solid state electronics.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 544aae7f516241e283ce1fea086c7ff8
              name: '{#DISK_LOCATION}: Physical disk model name'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.3.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.model[cpqDaPhyDrvModel.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Model. This is a text description of the physical drive.
                The text that appears depends upon who manufactured the drive and the drive type.
                If a drive fails, note the model to identify the type of drive necessary for replacement.
                If a model number is not present, you may not have properly initialized the drive array to which the physical drive is attached for monitoring.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 5dc10b0f56504ef8b8b13d2a733a9890
              name: '{#DISK_LOCATION}: Physical disk serial number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.51.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Serial Number.
                This is the serial number assigned to the physical drive.
                This value is based upon the serial number as returned by the SCSI inquiry command
                but may have been modified due to space limitations.  This can be used for identification purposes.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 3ff0cb46d25f49749521198801e38f5e
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#1)<>last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}],#2) and length(last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.serialnumber[cpqDaPhyDrvSerialNum.{#SNMPINDEX}]))>0'
                  name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Disk has been replaced'
                  event_name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Disk has been replaced (new serial number received)'
                  priority: INFO
                  description: 'Disk serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 435174e6fa0f438ead943b6b15ac1890
              name: '{#DISK_LOCATION}: Disk size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.45.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.size[cpqDaPhyDrvMediaType.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Size in MB.
                This is the size of the physical drive in megabytes.
                This value is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ
                from the advertised size of a drive. This field is only applicable for controllers which support SCSI drives,
                and therefore is not supported by the IDA or IDA-2 controllers. The field will contain 0xFFFFFFFF if the drive capacity cannot be calculated
                or if the controller does not support SCSI drives.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: ca11eba2a63345f58f3e003e2ca7057d
              name: '{#DISK_LOCATION}: Physical disk S.M.A.R.T. status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.57.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive S.M.A.R.T Status. The following values are defined:
                other(1)  The agent is unable to determine if the status of S.M.A.R.T  predictive failure monitoring for this drive.
                ok(2)  Indicates the drive is functioning properly.
                replaceDrive(3)  Indicates that the drive has a S.M.A.R.T predictive failure  error and should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 9c711a4d9b824da9b804d698cc0539f4
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDrive"} or last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.smart_status[cpqDaPhyDrvSmartStatus.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDriveSSDWearOut"}'
                  name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Physical disk S.M.A.R.T. failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Disk probably requires replacement.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 4e5f7cf1313e4913982ad6ca99e1475e
              name: '{#DISK_LOCATION}: Physical disk status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.5.1.1.6.{#SNMPINDEX}'
              key: 'hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQIDA-MIB
                Physical Drive Status. This shows the status of the physical drive. The following values are valid for the physical drive status:
                other (1)  Indicates that the instrument agent does not recognize  the drive.
                You may need to upgrade your instrument agent  and/or driver software.
                ok (2)  Indicates the drive is functioning properly.
                failed (3)  Indicates that the drive is no longer operating and  should be replaced.
                predictiveFailure(4)  Indicates that the drive has a predictive failure error and  should be replaced.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 58e19e5b85264972855de3a822158874
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Physical disk failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 8fef2c8429d34359abccd4a4f4c4eb16
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.WARN}'
                  name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Physical disk is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check physical disk for warnings or errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: {#DISK_LOCATION}: Physical disk failed'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.physicaldisk.status[cpqDaPhyDrvStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#DRIVE_BAY_LOCATION}'
                - 1.3.6.1.4.1.232.3.2.5.1.1.5
                - '0'
                - '{#DISK_LOCATION}'
                - 1.3.6.1.4.1.232.3.2.5.1.1.64
                - '0'
        - uuid: d342aadf8ad04ce6bc438ff80cfb8ca6
          name: 'PSU discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.9.3.1.5,1.3.6.1.4.1.232.6.2.9.3.1.1,1.3.6.1.4.1.232.6.2.9.3.1.2]'
          key: psu.discovery
          delay: 1h
          description: 'CPQHLTH-MIB::cpqHeFltTolPowerSupplyStatus'
          item_prototypes:
            - uuid: 984735fbf1cd43cc9ed3da001ec4083e
              name: 'Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.9.3.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: CPQHLTH-MIB
                The condition of the power supply. This value will be one of the following:
                other(1)  The status could not be determined or not present.
                ok(2)  The power supply is operating normally.
                degraded(3)  A temperature sensor, fan or other power supply component is  outside of normal operating range.
                failed(4)  A power supply component detects a condition that could  permanently damage the system.
              valuemap:
                name: 'CPQSINFO-MIB::status'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
              trigger_prototypes:
                - uuid: daac6080a59d412baed0506727539da9
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.CRIT}'
                  name: 'HPE ProLiant DL580: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: DISASTER
                  description: 'Please check the power supply unit for errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: dd54e999e31449b197822978cf623db9
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.WARN}'
                  name: 'HPE ProLiant DL580: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the power supply unit for errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: Chassis {#CHASSIS_NUM}, bay {#BAY_NUM}: Power supply is in critical state'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.psu.status[cpqHeFltTolPowerSupplyCondition.{#SNMPINDEX}])={$PSU.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#PSU_STATUS}'
                - 1.3.6.1.4.1.232.6.2.9.3.1.5
                - '0'
                - '{#CHASSIS_NUM}'
                - 1.3.6.1.4.1.232.6.2.9.3.1.1
                - '0'
                - '{#BAY_NUM}'
                - 1.3.6.1.4.1.232.6.2.9.3.1.2
                - '0'
        - uuid: 68ad7d74b6574f84b8a4eadf854c3b73
          name: 'Temperature ambient discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.ambient.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '11'
                formulaid: A
              - macro: '{#SNMPINDEX}'
                value: 0\.1
                formulaid: B
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with ambient(11) and 0.1 index filter
          item_prototypes:
            - uuid: ea3c0b834c6c4c19829ce14618b4f237
              name: 'Ambient: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 6a34a9e239ac41bc91c86594f2a9da10
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: Ambient: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 02874e127d3b4eb4bddbb8af3a9a6ae5
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: Ambient: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 8087e909eee64f06aaedb003b4c97591
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Ambient.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: Ambient: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: b577ee07864649249c28e1e42e8cdbb5
              name: 'Ambient: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.Ambient.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Ambient
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: 42d492e61d04498992d031a3823d8deb
          name: 'Temperature CPU discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.cpu.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '6'
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with cpu(6) filter
          item_prototypes:
            - uuid: f95ff0e8695c4ec6aecf9c2fd83f5e49
              name: 'CPU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: cpu
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: b26f319e92fc49c480b5c56d5f25798f
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: CPU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 9df5d4c52b5a4793a4c6374355071574
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: CPU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 5737358f89e44201bba23b636190caf9
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.CPU.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: CPU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 16bd7df02b5a4370a9bbabf418f24987
              name: 'CPU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.CPU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: CPU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: cpu
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: ce0edb9d194d419b85c108eb7a51de64
          name: 'Temperature discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: (4|8|9|12|13)
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable
          item_prototypes:
            - uuid: 2fdabc066579457d9f2ff9dbb2bf4876
              name: '{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 69932d4578cd46cb82f8c5ff53f518ab
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: {#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 0b06c945547c4b7a90845e55d1b0fb77
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: {#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: bbd194e64bbf4e1dbc4880c37abc3893
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: {#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 1ee1d186528349f98ca7baa72de5d4ae
              name: '{#SNMPINDEX}: Temperature sensor location'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.3.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.locale[cpqHeTemperatureLocale.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                This specifies the location of the temperature sensor present in the system.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
            - uuid: dee0a9e6e50f4255b652f790a69453ee
              name: '{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: {#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: 96a34cbc08744fdd92bba464ac0d6112
          name: 'Temperature I/O discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.io.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '5'
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with ioBoard(5) filter
          item_prototypes:
            - uuid: 50cdbef70cf845f893763eabb68e3557
              name: 'I/O-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 9986a6afc3b643cf8907c3ef295c51d6
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 1'
                  name: 'HPE ProLiant DL580: I/O-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: ebe09d0418404b57baf77b0444b6ad8f
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 4'
                  name: 'HPE ProLiant DL580: I/O-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 808dce71c06e48ee990e04ad966a6b70
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition."I/O.{#SNMPINDEX}"]) = 3'
                  name: 'HPE ProLiant DL580: I/O-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: f81f26c963fb4ba093b33165e0b2f1a7
              name: 'I/O-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius."I/O.{#SNMPINDEX}"]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: I/O-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: f16756a2f6bb44bb9398c46c01b7754b
          name: 'Temperature memory discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.memory.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '7'
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with memory(7) filter
          item_prototypes:
            - uuid: a99696f43b5b41fd9a8ca82982b6661f
              name: 'Memory-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: memory
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 70ba05c6c89e44879e06be0ff3a69aed
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: Memory-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: db2f5709b9e143c5b2ad48d4b95f71f5
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: Memory-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: e0ae2e3e35124603a53a090a451b85e4
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.Memory.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: Memory-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: 83c7cc190a7a4c48aa415233cb13647a
              name: 'Memory-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.Memory.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: Memory-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: memory
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: 911823376a3d4938b9fefed661359d44
          name: 'Temperature PSU discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.psu.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '10'
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with powerSupply(10) filter
          item_prototypes:
            - uuid: 60bc36b43a8e4c209873349f0301948c
              name: 'PSU-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 0c26534aea8c4850896100bc9dc367fe
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: PSU-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 28a5f4ce0f564c109a6ca2430c9b8366
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: PSU-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 51951458c9964fb9a40076a37ac16936
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.PSU.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: PSU-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: daf9e8fa2cdf43bd921a5dc6acb4aab8
              name: 'PSU-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.PSU.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: PSU-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#CHASSIS_NUMBER}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: db34d5a8ea44405bb694406311cd7f09
          name: 'Temperature system discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.6.2.6.8.1.1,1.3.6.1.4.1.232.6.2.6.8.1.3]'
          key: temp.system.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '3'
                formulaid: A
          description: |
            Scanning table of Temperature Sensor Entries:
            CPQHLTH-MIB::cpqHeTemperatureTable with system(3) filter
          item_prototypes:
            - uuid: c39bdceb9ed14a2581891074d6244fbf
              name: 'System-{#SNMPINDEX}: Temperature sensor condition'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.6.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]'
              description: |
                MIB: CPQHLTH-MIB
                The Temperature sensor condition.
                This value will be one of the following:
                other(1)
                  Temperature could not be determined.
                ok(2)
                  The temperature sensor is within normal operating range.
                degraded(3)
                  The temperature sensor is outside of normal operating range.
                failed(4)
                  The temperature sensor detects a condition that could
                  permanently damage the system.
                The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.  If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.
              valuemap:
                name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: c8a77f4bb2ca46d689ac1d606d8a96cf
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 1'
                  name: 'HPE ProLiant DL580: System-{#SNMPINDEX}: Temperature could not be determined'
                  priority: INFO
                  description: 'Temperature could not be determined.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
                - uuid: 4fb12ffd051443848c685d7eb03a4c12
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 4'
                  name: 'HPE ProLiant DL580: System-{#SNMPINDEX}: The temperature sensor detects a condition that could permanently damage the system.'
                  priority: HIGH
                  description: 'The system will automatically shutdown if the failed(4) condition results, so it is unlikely that this value will ever be returned by the agent.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: a688d0c82bd7485cb0104aa66d255cd8
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.sensor.temp.condition[cpqHeTemperatureCondition.System.{#SNMPINDEX}]) = 3'
                  name: 'HPE ProLiant DL580: System-{#SNMPINDEX}: The temperature sensor is outside of normal operating range'
                  priority: WARNING
                  description: 'If the cpqHeThermalDegradedAction is set to shutdown(3) the system will be shutdown if the degraded(3) condition occurs.'
                  tags:
                    - tag: scope
                      value: available
            - uuid: eea96d9f5e614741949ba08af99b8ece
              name: 'System-{#SNMPINDEX}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.6.2.6.8.1.4.{#SNMPINDEX}'
              key: 'hp.server.sensor.temp.value[cpqHeTemperatureCelsius.System.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: CPQHLTH-MIB
                Temperature readings of testpoint: System-{#SNMPINDEX}
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TEMP_SENSOR}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.232.6.2.6.8.1.3
                - '0'
        - uuid: b61324076c344b36936658814172e946
          name: 'Virtual disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.232.3.2.3.1.1.2,1.3.6.1.4.1.232.3.2.3.1.1.14]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'CPQIDA-MIB::cpqDaLogDrvTable'
          item_prototypes:
            - uuid: a71bb8065d9b4af39d04c841a8cb97cd
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Layout type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.3.1.1.3.{#SNMPINDEX}'
              key: 'hp.server.hw.virtualdisk.layout[cpqDaLogDrvFaultTol.{#SNMPINDEX}]'
              description: |
                Logical Drive Fault Tolerance.
                This shows the fault tolerance mode of the logical drive.
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 6d0efe481e8345de9b8fc5728a6e53fe
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Disk size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.3.1.1.9.{#SNMPINDEX}'
              key: 'hp.server.hw.virtualdisk.size[cpqDaLogDrvSize.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                Logical Drive Size.
                This is the size of the logical drive in megabytes.  This value
                is calculated using the value 1,048,576 (2^20) as a megabyte.
                Drive manufacturers sometimes use the number 1,000,000 as a
                megabyte when giving drive capacities so this value may
                differ from the advertised size of a drive.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: f047e66c969940f391243155780ffdbf
              name: 'Disk {#SNMPINDEX}({#DISK_NAME}): Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.232.3.2.3.1.1.4.{#SNMPINDEX}'
              key: 'hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}]'
              description: 'Logical Drive Status.'
              valuemap:
                name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
              trigger_prototypes:
                - uuid: acc0d93ae9844027970cbddec1fb54c4
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])={$VDISK.STATUS.CRIT}'
                  name: 'HPE ProLiant DL580: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check virtual disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: available
                - uuid: 884fbae19d3049c0af18a2fad8810217
                  expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])<>{$VDISK.STATUS.OK}'
                  name: 'HPE ProLiant DL580: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk is not in OK state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check virtual disk for warnings or errors.'
                  dependencies:
                    - name: 'HPE ProLiant DL580: Disk {#SNMPINDEX}({#DISK_NAME}): Virtual disk failed'
                      expression: 'last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.virtualdisk.status[cpqDaLogDrvStatus.{#SNMPINDEX}])={$VDISK.STATUS.CRIT}'
                  tags:
                    - tag: scope
                      value: available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#DRIVE_INDEX}'
                - 1.3.6.1.4.1.232.3.2.3.1.1.2
                - '0'
                - '{#DISK_NAME}'
                - 1.3.6.1.4.1.232.3.2.3.1.1.14
                - '0'
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: hp
        - tag: target
          value: hp-dl580
      macros:
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"capacitorFailed"}'
          value: '7'
          description: 'The critical status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT:"failed"}'
          value: '4'
          description: 'The critical status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"degraded"}'
          value: '5'
          description: 'The warning status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN:"notPresent"}'
          value: '6'
          description: 'The warning status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.CRIT:"cacheModCriticalFailure"}'
          value: '8'
          description: 'The critical status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.OK:"enabled"}'
          value: '3'
          description: 'The normal status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModDegradedFailsafeSpeed"}'
          value: '7'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheModFlashMemNotAttached"}'
          value: '6'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"cacheReadCacheNotMapped"}'
          value: '9'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.STATUS.WARN:"invalid"}'
          value: '2'
          description: 'The warning status of the disk array cache for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.CRIT}'
          value: '4'
          description: 'The critical status of the disk array for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.WARN}'
          value: '3'
          description: 'The warning status of the disk array for trigger expression.'
        - macro: '{$DISK.SMART.STATUS.FAIL:"replaceDrive"}'
          value: '3'
          description: 'The critical S.M.A.R.T status of the disk for trigger expression.'
        - macro: '{$DISK.SMART.STATUS.FAIL:"replaceDriveSSDWearOut"}'
          value: '4'
          description: 'The critical S.M.A.R.T status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.FAIL}'
          value: '3'
          description: 'The critical status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.WARN}'
          value: '4'
          description: 'The warning status of the disk for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT}'
          value: '4'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.WARN}'
          value: '3'
          description: 'The warning value of the FAN sensor for trigger expression.'
        - macro: '{$HEALTH.STATUS.CRIT}'
          value: '4'
          description: 'The critical status of the health for trigger expression.'
        - macro: '{$HEALTH.STATUS.WARN}'
          value: '3'
          description: 'The warning status of the health for trigger expression.'
        - macro: '{$PSU.STATUS.CRIT}'
          value: '4'
          description: 'The critical value of the PSU sensor for trigger expression.'
        - macro: '{$PSU.STATUS.WARN}'
          value: '3'
          description: 'The warning value of the PSU sensor for trigger expression.'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        - macro: '{$VDISK.STATUS.CRIT}'
          value: '3'
          description: 'The critical status of the virtual disk for trigger expression.'
        - macro: '{$VDISK.STATUS.OK}'
          value: '2'
          description: 'The normal status of the virtual disk for trigger expression.'
      valuemaps:
        - uuid: 806e0690c75845a7a2f7993bf27b2af2
          name: 'CPQHLTH-MIB::cpqHeTemperatureCondition'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: d68e2ec8a32e4ef4a73f9a837a0a3ef6
          name: 'CPQHLTH-MIB::cpqHeTemperatureLocale'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: system
            - value: '4'
              newvalue: systemBoard
            - value: '5'
              newvalue: ioBoard
            - value: '6'
              newvalue: cpu
            - value: '7'
              newvalue: memory
            - value: '8'
              newvalue: storage
            - value: '9'
              newvalue: removableMedia
            - value: '10'
              newvalue: powerSupply
            - value: '11'
              newvalue: ambient
            - value: '12'
              newvalue: chassis
            - value: '13'
              newvalue: bridgeCard
        - uuid: e328d9f917294efea9e009c0e363c6d8
          name: 'CPQIDA-MIB::cpqDaAccelBattery'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: Ok
            - value: '3'
              newvalue: Recharging
            - value: '4'
              newvalue: Failed
            - value: '5'
              newvalue: Degraded
            - value: '6'
              newvalue: 'Not Present'
            - value: '7'
              newvalue: 'Capacitor failed'
        - uuid: 6571ab28b4914989b0526793b77394c7
          name: 'CPQIDA-MIB::cpqDaAccelStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: invalid
            - value: '3'
              newvalue: enabled
            - value: '4'
              newvalue: tmpDisabled
            - value: '5'
              newvalue: permDisabled
            - value: '6'
              newvalue: cacheModFlashMemNotAttached
            - value: '7'
              newvalue: cacheModDegradedFailsafeSpeed
            - value: '8'
              newvalue: cacheModCriticalFailure
            - value: '9'
              newvalue: cacheReadCacheNotMapped
        - uuid: c5a5364efd3c4a97bc29dd7ab6a1b851
          name: 'CPQIDA-MIB::cpqDaCntlrModel'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ida
            - value: '3'
              newvalue: idaExpansion
            - value: '4'
              newvalue: ida-2
            - value: '5'
              newvalue: smart
            - value: '6'
              newvalue: smart-2e
            - value: '7'
              newvalue: smart-2p
            - value: '8'
              newvalue: smart-2sl
            - value: '9'
              newvalue: smart-3100es
            - value: '10'
              newvalue: smart-3200
            - value: '11'
              newvalue: smart-2dh
            - value: '12'
              newvalue: smart-221
            - value: '13'
              newvalue: sa-4250es
            - value: '14'
              newvalue: sa-4200
            - value: '15'
              newvalue: sa-integrated
            - value: '16'
              newvalue: sa-431
            - value: '17'
              newvalue: sa-5300
            - value: '18'
              newvalue: raidLc2
            - value: '19'
              newvalue: sa-5i
            - value: '20'
              newvalue: sa-532
            - value: '21'
              newvalue: sa-5312
            - value: '22'
              newvalue: sa-641
            - value: '23'
              newvalue: sa-642
            - value: '24'
              newvalue: sa-6400
            - value: '25'
              newvalue: sa-6400em
            - value: '26'
              newvalue: sa-6i
            - value: '27'
              newvalue: sa-generic
            - value: '29'
              newvalue: sa-p600
            - value: '30'
              newvalue: sa-p400
            - value: '31'
              newvalue: sa-e200
            - value: '32'
              newvalue: sa-e200i
            - value: '33'
              newvalue: sa-p400i
            - value: '34'
              newvalue: sa-p800
            - value: '35'
              newvalue: sa-e500
            - value: '36'
              newvalue: sa-p700m
            - value: '37'
              newvalue: sa-p212
            - value: '38'
              newvalue: sa-p410
            - value: '39'
              newvalue: sa-p410i
            - value: '40'
              newvalue: sa-p411
            - value: '41'
              newvalue: sa-b110i
            - value: '42'
              newvalue: sa-p712m
            - value: '43'
              newvalue: sa-p711m
            - value: '44'
              newvalue: sa-p812
            - value: '45'
              newvalue: sw-1210m
            - value: '46'
              newvalue: sa-p220i
            - value: '47'
              newvalue: sa-p222
            - value: '48'
              newvalue: sa-p420
            - value: '49'
              newvalue: sa-p420i
            - value: '50'
              newvalue: sa-p421
            - value: '51'
              newvalue: sa-b320i
            - value: '52'
              newvalue: sa-p822
            - value: '53'
              newvalue: sa-p721m
            - value: '54'
              newvalue: sa-b120i
            - value: '55'
              newvalue: hps-1224
            - value: '56'
              newvalue: hps-1228
            - value: '57'
              newvalue: hps-1228m
            - value: '58'
              newvalue: sa-p822se
            - value: '59'
              newvalue: hps-1224e
            - value: '60'
              newvalue: hps-1228e
            - value: '61'
              newvalue: hps-1228em
            - value: '62'
              newvalue: sa-p230i
            - value: '63'
              newvalue: sa-p430i
            - value: '64'
              newvalue: sa-p430
            - value: '65'
              newvalue: sa-p431
            - value: '66'
              newvalue: sa-p731m
            - value: '67'
              newvalue: sa-p830i
            - value: '68'
              newvalue: sa-p830
            - value: '69'
              newvalue: sa-p831
            - value: '70'
              newvalue: sa-p530
            - value: '71'
              newvalue: sa-p531
            - value: '72'
              newvalue: sa-p244br
            - value: '73'
              newvalue: sa-p246br
            - value: '74'
              newvalue: sa-p440
            - value: '75'
              newvalue: sa-p440ar
            - value: '76'
              newvalue: sa-p441
            - value: '77'
              newvalue: sa-p741m
            - value: '78'
              newvalue: sa-p840
            - value: '79'
              newvalue: sa-p841
            - value: '80'
              newvalue: sh-h240ar
            - value: '81'
              newvalue: sh-h244br
            - value: '82'
              newvalue: sh-h240
            - value: '83'
              newvalue: sh-h241
            - value: '84'
              newvalue: sa-b140i
            - value: '85'
              newvalue: sh-generic
            - value: '86'
              newvalue: sa-p240nr
            - value: '87'
              newvalue: sh-h240nr
            - value: '88'
              newvalue: sa-p840ar
            - value: '89'
              newvalue: sa-p542d
            - value: '90'
              newvalue: s100i
            - value: '91'
              newvalue: e208i-p
            - value: '92'
              newvalue: e208i-a
            - value: '93'
              newvalue: e208i-c
            - value: '94'
              newvalue: e208e-p
            - value: '95'
              newvalue: p204i-b
            - value: '96'
              newvalue: p204i-c
            - value: '97'
              newvalue: p408i-p
            - value: '98'
              newvalue: p408i-a
            - value: '99'
              newvalue: p408e-p
            - value: '100'
              newvalue: p408i-c
            - value: '101'
              newvalue: p408e-m
            - value: '102'
              newvalue: p416ie-m
            - value: '103'
              newvalue: p816i-a
            - value: '104'
              newvalue: p408i-sb
        - uuid: 529cb82ed6d345038db47047e7413775
          name: 'CPQIDA-MIB::cpqDaLogDrvFaultTol'
          mappings:
            - value: '0'
              newvalue: other
            - value: '2'
              newvalue: none
            - value: '3'
              newvalue: RAID-1/RAID-10
            - value: '4'
              newvalue: RAID-4
            - value: '5'
              newvalue: RAID-5
            - value: '7'
              newvalue: RAID-6
            - value: '8'
              newvalue: RAID-50
            - value: '9'
              newvalue: RAID-60
            - value: '10'
              newvalue: 'RAID-1 ADM'
            - value: '11'
              newvalue: 'RAID-10 ADM'
        - uuid: 2e44bbabb7a24de7852e348f24796279
          name: 'CPQIDA-MIB::cpqDaLogDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: unconfigured
            - value: '5'
              newvalue: recovering
            - value: '6'
              newvalue: readyForRebuild
            - value: '7'
              newvalue: rebuilding
            - value: '8'
              newvalue: wrongDrive
            - value: '9'
              newvalue: badConnect
            - value: '10'
              newvalue: overheating
            - value: '11'
              newvalue: shutdown
            - value: '12'
              newvalue: expanding
            - value: '13'
              newvalue: notAvailable
            - value: '14'
              newvalue: queuedForExpansion
            - value: '15'
              newvalue: multipathAccessDegraded
            - value: '16'
              newvalue: erasing
            - value: '17'
              newvalue: predictiveSpareRebuildReady
            - value: '18'
              newvalue: rapidParityInitInProgress
            - value: '19'
              newvalue: rapidParityInitPending
            - value: '20'
              newvalue: noAccessEncryptedNoCntlrKey
            - value: '21'
              newvalue: unencryptedToEncryptedInProgress
            - value: '22'
              newvalue: newLogDrvKeyRekeyInProgress
            - value: '23'
              newvalue: noAccessEncryptedCntlrEncryptnNotEnbld
            - value: '24'
              newvalue: unencryptedToEncryptedNotStarted
            - value: '25'
              newvalue: newLogDrvKeyRekeyRequestReceived
        - uuid: 41517a733522421d8a7539df9f69e6bf
          name: 'CPQIDA-MIB::cpqDaPhyDrvMediaType'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: rotatingPlatters
            - value: '3'
              newvalue: solidState
        - uuid: 3dd7ae8217374ab7bf48d6949acb7d24
          name: 'CPQIDA-MIB::cpqDaPhyDrvSmartStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: replaceDrive
            - value: '4'
              newvalue: replaceDriveSSDWearOut
        - uuid: 67da1d60420b48d782da202bb5f882f3
          name: 'CPQIDA-MIB::cpqDaPhyDrvStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: predictiveFailure
        - uuid: 0d280ec8a38a4dbf9b51a47d6ae3b5e6
          name: 'CPQNIC-MIB::cpqNicIfPhysAdapterStatus'
          mappings:
            - value: '1'
              newvalue: unknown
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: generalFailure
            - value: '4'
              newvalue: linkFailure
        - uuid: 1cd75724795c415293b70ddbfce9c6e5
          name: 'CPQNIC-MIB::Duplex'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: halfDuplex
            - value: '3'
              newvalue: fullDuplex
            - value: '4'
              newvalue: notSupported
        - uuid: 2b3e8e726ae84174aa837219549bebff
          name: 'CPQNIC-MIB::IPMIType'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ethernet
            - value: '3'
              newvalue: tokenRing
        - uuid: 5185f9854be94086bb4da6bb12e7a564
          name: 'CPQSINFO-MIB::status'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: ok
            - value: '3'
              newvalue: degraded
            - value: '4'
              newvalue: failed
        - uuid: ddfac09667854941ab835044ac0cc76d
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 71aaee1f59dc42d79e3afe829b0007be
      expression: '(last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.uptime[hrSystemUptime])>0 and last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.uptime[hrSystemUptime])<10m) or (last(/HPE ProLiant DL580 by SNMP custom/hp.server.hw.uptime[hrSystemUptime])=0 and last(/HPE ProLiant DL580 by SNMP custom/hp.server.net.uptime[sysUpTime])<10m)'
      name: 'HPE ProLiant DL580: Host has been restarted'
      event_name: 'HPE ProLiant DL580: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      tags:
        - tag: scope
          value: notice
