zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: 6ef8590374b34f4382315e527f3d6fa1
      template: 'DELL PowerEdge R540 by SNMP custom'
      name: 'DELL PowerEdge R540 by SNMP custom'
      description: |
        Template for DELL PowerEdge R540 servers with iDRAC version 7 and later.
        
        MIBs used:
        HOST-RESOURCES-MIB
        IDRAC-MIB-SMIv2
        SNMPv2-MIB
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 3ddbae3698af417482e4588f24d5562d
          name: 'SNMP walk RAID controllers table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38,1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.79,1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.2]'
          key: dell.server.array.controller.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of RAID Controllers Table `IDRAC-MIB-SMIv2::controllerTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: dd79661fdbb745f99e13d9cf0ccfdbea
          name: 'SNMP walk Battery table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.1,1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.4,1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.21]'
          key: dell.server.battery.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of RAID Controllers Table `IDRAC-MIB-SMIv2::batteryTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: d54c1525fb544c0393c10c168c3ec118
          name: 'BIOS version'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.4.300.50.1.8.1.1]'
          key: dell.server.bios.version
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the version name of the system BIOS.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 311c80b793ae42c1bddb36913ca745c7
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: 'dell.server.contact[sysContact]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 896316ea7c8a44c3b09cf4559968cee9
          name: 'SNMP walk Processor device tables'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.1100.30.1.26,1.3.6.1.4.1.674.10892.5.4.1100.32.1.5.1,1.3.6.1.4.1.674.10892.5.4.1100.32.1.6.1]'
          key: dell.server.cpu.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Processor Device Status Table `IDRAC-MIB-SMIv2::processorDeviceTable` and `IDRAC-MIB-SMIv2::processorDeviceStatusTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 874d6ba9d0a74a26bb7086a94c454a9d
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: 'dell.server.descr[sysDescr]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: ecbadfaef2a5496bb8d9bf702fe8c3fd
          name: 'SNMP walk Physical disk table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.1,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.2,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.24,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.31,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.6,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.7,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.35,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.11]'
          key: dell.server.disk.physical.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Physical Disk Table `IDRAC-MIB-SMIv2::physicalDiskTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 7c2976243f284c30905a24112ccc69bb
          name: 'SNMP walk Virtual disk table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.1,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.2,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.13,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.30,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.11,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.10,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.6,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.4]'
          key: dell.server.disk.virtual.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Virtual Disk Table `IDRAC-MIB-SMIv2::virtualDiskTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 19fb1bce27754957926f3717684dd5c2
          name: 'SNMP walk Cooling device table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.700.12.1.5,1.3.6.1.4.1.674.10892.5.4.700.12.1.8,1.3.6.1.4.1.674.10892.5.4.700.12.1.7,1.3.6.1.4.1.674.10892.5.4.700.12.1.6]'
          key: dell.server.fan.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Cooling Device Table `IDRAC-MIB-SMIv2::coolingDeviceTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 77786c25ff7348bea4c45e95ef73b3d6
          name: 'Firmware version'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.1.1.8.0]'
          key: 'dell.server.hw.firmware[racFirmwareVersion]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the firmware version of a remote access card.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: f03220be43c242b1a132dd36c208498c
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.firmware[racFirmwareVersion],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.firmware[racFirmwareVersion],#2) and length(last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.firmware[racFirmwareVersion]))>0'
              name: 'Dell R540: Firmware has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Firmware version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: ac727a2aee8043b19588be8d919e07c3
          name: 'Hardware model name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.1.3.12.0]'
          key: 'dell.server.hw.model[systemModelName]'
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the model name of the system.
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 11b5e514f9e24634b0fbfd35107c42a4
          name: 'Hardware serial number'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.1.3.2.0]'
          key: 'dell.server.hw.serialnumber[systemServiceTag]'
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the service tag of the system.
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 7d71f91220b24cbd8ecdba217aea1a70
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.serialnumber[systemServiceTag],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.serialnumber[systemServiceTag],#2) and length(last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.serialnumber[systemServiceTag]))>0'
              name: 'Dell R540: Device has been replaced'
              event_name: 'Dell R540: Device has been replaced (new serial number received)'
              priority: INFO
              description: 'Device serial number has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: f5edaaae58704bafa304cea07e1d1bd3
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.2.5.0]'
          key: 'dell.server.hw.uptime[systemPowerUpTime]'
          trends: '0'
          units: uptime
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the power-up time of the system in seconds.
          tags:
            - tag: component
              value: system
        - uuid: 62563cfdd788457ab08d95374b89131b
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: 'dell.server.location[sysLocation]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., 'telephone closet, 3rd floor'). If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: be878d76fd7c43ebac6a680571c05e31
          name: 'Memory, total size'
          type: CALCULATED
          key: dell.server.memory.size.total
          units: B
          params: 'sum(last_foreach(//dell.server.memory.size[*]))'
          description: 'Total memory amount on the device.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: memory
          triggers:
            - uuid: c55aa2abbb044b2188ba21757a395332
              expression: 'change(/DELL PowerEdge R540 by SNMP custom/dell.server.memory.size.total)>0'
              name: 'Dell R540: Memory amount has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
        - uuid: 5ab2621b05d54e50ab00f2a7e8c9e9de
          name: 'SNMP walk Memory device table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.1100.50.1.8.1,1.3.6.1.4.1.674.10892.5.4.1100.50.1.5.1,1.3.6.1.4.1.674.10892.5.4.1100.50.1.14.1]'
          key: dell.server.memory.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Memory Device Table `IDRAC-MIB-SMIv2::memoryDeviceTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 63f666174d2f4c0ba93e9e67e7aba250
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: 'dell.server.name[sysName]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node. By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: b556e6dbb14743e093b7947c91ce7b66
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.name[sysName],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.name[sysName],#2) and length(last(/DELL PowerEdge R540 by SNMP custom/dell.server.name[sysName]))>0'
              name: 'Dell R540: System name has changed'
              event_name: 'Dell R540: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: a18cb0a03f3240a984e251d349cbe9e7
          name: 'SNMP walk Network device table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.1100.90.1.4.1,1.3.6.1.4.1.674.10892.5.4.1100.90.1.30.1,1.3.6.1.4.1.674.10892.5.4.1100.90.1.3.1, 1.3.6.1.4.1.674.10892.5.4.1100.90.1.15.1]'
          key: dell.server.net.if.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Network Device Table `IDRAC-MIB-SMIv2::networkDeviceTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 8ece199a10354bd6b7435dacd9869a21
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.6.3.10.2.1.3.0]'
          key: 'dell.server.net.uptime[snmpEngineTime]'
          trends: '0'
          units: uptime
          description: |
            MIB: SNMP-FRAMEWORK-MIB
            The number of seconds since the value of the snmpEngineBoots object last changed.
          tags:
            - tag: component
              value: system
        - uuid: 7f87bfed8fb84f7f8b9defb02e32a901
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.2.0]'
          key: 'dell.server.objectid[sysObjectID]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity. This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining 'what kind of box' is being managed. For example, if vendor 'Flintstones, Inc.' was assigned the subtree 1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its 'Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
        - uuid: 33509492268847b49f6fe6d5f1ed2fd4
          name: 'SNMP walk Power supply table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.600.12.1.5,1.3.6.1.4.1.674.10892.5.4.600.12.1.8]'
          key: dell.server.psu.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Power Supply Table `IDRAC-MIB-SMIv2::powerSupplyTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: a0efec2c549d473a94070ff49fb39cf1
          name: 'SNMP walk Temperature sensor table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.700.20.1.1,1.3.6.1.4.1.674.10892.5.4.700.20.1.8,1.3.6.1.4.1.674.10892.5.4.700.20.1.6,1.3.6.1.4.1.674.10892.5.4.700.20.1.5]'
          key: dell.server.sensor.temp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Temperature Probe Table `IDRAC-MIB-SMIv2::temperatureProbeTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: 406fecbb0710470da9b84c3bcf0ec119
          name: 'Overall system health status'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.2.1.0]'
          key: 'dell.server.status[globalSystemStatus]'
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the overall rollup status of all components in the system being monitored by the remote access card. Includes system, storage, IO devices, iDRAC, CPU, memory, etc.
          valuemap:
            name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: 07203696028b410381240f080e50ff53
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.status[globalSystemStatus])={$HEALTH.STATUS.DISASTER}'
              name: 'Dell R540: System is in unrecoverable state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: DISASTER
              description: 'Please check the device for faults.'
              tags:
                - tag: scope
                  value: availability
            - uuid: 009ef1f74f4a45b19639d8c7551a9cae
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.status[globalSystemStatus])={$HEALTH.STATUS.CRIT}'
              name: 'Dell R540: System status is in critical state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for errors.'
              tags:
                - tag: scope
                  value: availability
            - uuid: a2cf3dd391bb4da1a1c49445d6568006
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.status[globalSystemStatus])={$HEALTH.STATUS.WARN}'
              name: 'Dell R540: System status is in warning state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Please check the device for warnings.'
              dependencies:
                - name: 'Dell R540: System status is in critical state'
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.status[globalSystemStatus])={$HEALTH.STATUS.CRIT}'
              tags:
                - tag: scope
                  value: availability
        - uuid: 37849e512c3c424ea098a4b821a806a2
          name: 'Operating system'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.1.3.6.0]'
          key: 'dell.server.sw.os[systemOSName]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the name of the operating system that the host is running.
          inventory_link: OS
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 7084716b36944400ae4cfeac6fb0b82c
              expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sw.os[systemOSName],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.sw.os[systemOSName],#2) and length(last(/DELL PowerEdge R540 by SNMP custom/dell.server.sw.os[systemOSName]))>0'
              name: 'Dell R540: Operating system description has changed'
              priority: INFO
              description: 'Operating system description has changed. Possibly, the system has been updated or replaced. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 628bee708ae44f4fb23f256f18f419c2
          name: 'SNMP walk System battery table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.600.50.1.7.1,1.3.6.1.4.1.674.10892.5.4.600.50.1.5.1]'
          key: dell.server.system.battery.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of System Battery Table `IDRAC-MIB-SMIv2::systemBatteryTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: bc65f1eb1a9849668c569eeffe312226
          name: 'SNMP walk Voltage probe table'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.600.20.1.8.1,1.3.6.1.4.1.674.10892.5.4.600.20.1.6.1,1.3.6.1.4.1.674.10892.5.4.600.20.1.5.1,1.3.6.1.4.1.674.10892.5.4.600.20.1.7.1]'
          key: dell.server.voltage.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Scanning of Voltage Probe Table `IDRAC-MIB-SMIv2::voltageProbeTable`.'
          tags:
            - tag: component
              value: raw
        - uuid: cad5c709aa414b9ba40f92af9a491aac
          name: 'Server IPMI: MAC'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.2.2.1.6.9
          key: 'net.ifs.ipmi.mac[ifMAC.{#SNMPINDEX}]'
          value_type: CHAR
          trends: '0'
          description: 'MIB: IF-MIB MAC of interface'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
            - type: SNMP_GET_VALUE
              parameters:
                - '2'
          tags:
            - tag: component
              value: network
        - uuid: 107d9ca42a0e4ceb950d629087949150
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 92957f1d3c074ae89e36921c82929229
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          valuemap:
            name: zabbix.host.available
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
          triggers:
            - uuid: f38f04d26edb4f57b7af1b7a52302bfc
              expression: 'max(/DELL PowerEdge R540 by SNMP custom/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'Dell R540: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 664f2dd8883249d99825d8c81bb29373
          name: 'Array controller discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38,1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.79]'
          key: array.discovery
          delay: 1h
          description: 'Scanning table of Array controllers: IDRAC-MIB-SMIv2::controllerTable'
          item_prototypes:
            - uuid: 4a2512da18284077a3ef8008096667b6
              name: '{#CNTLR_NAME} Model'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.2.{#SNMPINDEX}'
              key: 'dell.server.hw.diskarray.model[controllerName.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The controller's name as represented in Storage Management.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
            - uuid: 2daae20cf0914f5bb4267ec264af1181
              name: '{#CNTLR_NAME} Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38.{#SNMPINDEX}'
              key: 'dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The status of the controller itself without the propagation of any contained component status.
                Possible values:
                1: Other
                2: Unknown
                3: OK
                4: Non-critical
                5: Critical
                6: Non-recoverable
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: diskarray
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 56c8718e5d054418bb9f5a09b88ba659
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                  name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in unrecoverable state'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 51ea7070e0f54211af4f7e5272b946a1
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.FAIL}'
                  name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in unrecoverable state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: DISASTER
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 3a9e9e1412b24590963c1f4545e854eb
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.WARN}'
                  name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in critical state'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.CRIT}'
                    - name: 'DELL PowerEdge R540: {#CNTLR_NAME} is in unrecoverable state'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}])={$DISK.ARRAY.STATUS.FAIL}'
                  tags:
                    - tag: scope
                      value: availability
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#CNTRL_STATUS}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38
                - '0'
                - '{#CNTLR_NAME}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.79
                - '0'
        - uuid: 4619aebc1dca490d9cadff71f3fc6649
          name: 'Battery discovery'
          type: DEPENDENT
          key: battery.discovery
          delay: '0'
          status: DISABLED
          description: 'Battery discovery.'
          item_prototypes:
            - uuid: 54e34fba16c44ab2a866ffccae157f03
              name: 'Battery [{#BATTERY_NAME}]: Status'
              type: DEPENDENT
              key: 'dell.server.hw.battery.status[batteryState.{#SNMPINDEX}]'
              delay: '0'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                Current state of battery.
                Possible values:
                1: The current state could not be determined.
                2: The battery is operating normally.
                3: The battery has failed and needs to be replaced.
                4: The battery temperature is high or charge level is depleting.
                5: The battery is missing or not detected.
                6: The battery is undergoing the re-charge phase.
                7: The battery voltage or charge level is below the threshold.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::batteryState'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.battery.walk
              tags:
                - tag: component
                  value: battery
                - tag: component
                  value: diskarray
              trigger_prototypes:
                - uuid: 6db9b436ac9c4aabaa3013cf5f715099
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.battery.status[batteryState.{#SNMPINDEX}])={$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT}'
                  name: 'Dell R540: Battery [{#BATTERY_NAME}]: Critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: dell.server.battery.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#BATTERY_NUM}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.1
                - '0'
                - '{#BATTERY_NAME}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.21
                - '0'
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 108159e02c8f4671b63bd818ebd5b72d
          name: 'CPU status discovery'
          type: DEPENDENT
          key: cpu.discovery
          delay: '0'
          description: 'CPU status discovery.'
          item_prototypes:
            - uuid: ad8af6cd4bd243abb2f95e54dea1fdb9
              name: 'CPU [{#CPU_FQDD}]: State'
              type: DEPENDENT
              key: 'dell.server.cpu.state[cpu.{#SNMPINDEX}]'
              delay: '0'
              description: 'This attribute defines the reading of the processor device status probe.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ProcessorDeviceStatusReadingFlags'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.32.1.6.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.cpu.walk
              tags:
                - tag: component
                  value: cpu
              trigger_prototypes:
                - uuid: 751570d33d9a42b3ac63ca694a7773ef
                  expression: 'bitand(last(/DELL PowerEdge R540 by SNMP custom/dell.server.cpu.state[cpu.{#SNMPINDEX}],#1),128)=0'
                  name: 'Dell R540: CPU [{#CPU_FQDD}]: Reading error'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    MIB: IDRAC-MIB-SMIv2
                    CPU probe reading flag is not `processorPresent`.
                  tags:
                    - tag: scope
                      value: availability
            - uuid: e0ce308b6d6c49fca97292094f6b7650
              name: 'CPU [{#CPU_FQDD}]: Status'
              type: DEPENDENT
              key: 'dell.server.cpu.status[cpu.{#SNMPINDEX}]'
              delay: '0'
              description: 'This attribute defines the status of the processor device status probe. This status will be joined into the `processorDeviceStatus` attribute.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.32.1.5.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.cpu.walk
              tags:
                - tag: component
                  value: cpu
              trigger_prototypes:
                - uuid: 620d5bbfc71446c3a3fb33e063c48d36
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.cpu.status[cpu.{#SNMPINDEX}],#1)<>3'
                  name: 'Dell R540: CPU [{#CPU_FQDD}]: Status is not OK'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    MIB: IDRAC-MIB-SMIv2
                    CPU status is not OK.
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: dell.server.cpu.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#CPU_FQDD}'
                - 1.3.6.1.4.1.674.10892.5.4.1100.30.1.26
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 4c1e49f2c7d146d08d1ff05c916e8a85
          name: 'FAN discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.700.12.1.5,1.3.6.1.4.1.674.10892.5.4.700.12.1.8,1.3.6.1.4.1.674.10892.5.4.700.12.1.7]'
          key: fan.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#TYPE}'
                value: '3'
                formulaid: A
          description: 'IDRAC-MIB-SMIv2::coolingDeviceTable'
          item_prototypes:
            - uuid: 06a4ed01be7f46078b404d01384330f7
              name: '{#FAN_DESCR} Speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.12.1.6.{#SNMPINDEX}'
              key: 'dell.server.sensor.fan.speed[coolingDeviceReading.{#SNMPINDEX}]'
              units: rpm
              description: |
                MIB: IDRAC-MIB-SMIv2
                This attribute defines the reading for a cooling device
                of subtype other than coolingDeviceSubTypeIsDiscrete. When the value
                for coolingDeviceSubType is other than coolingDeviceSubTypeIsDiscrete, the
                value returned for this attribute is the speed in RPM or the OFF/ON value
                of the cooling device. When the value for coolingDeviceSubType is
                coolingDeviceSubTypeIsDiscrete, a value is not returned for this attribute.
              tags:
                - tag: component
                  value: fan
            - uuid: 30f53d0987084c9795378ab639d2fb79
              name: '{#FAN_DESCR} Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.12.1.5.{#SNMPINDEX}'
              key: 'dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                This attribute defines the probe status of the cooling device.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: 03456db52aa84af5b44b254185c03d4d
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"criticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"nonRecoverableUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"criticalLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"nonRecoverableLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"failed"}'
                  name: 'DELL PowerEdge R540: {#FAN_DESCR} is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 1ff22a8d230242d1988e1957bdc1900a
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.WARN:"nonCriticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.WARN:"nonCriticalLower"}'
                  name: 'DELL PowerEdge R540: {#FAN_DESCR} is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#FAN_DESCR} is in critical state'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"criticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"nonRecoverableUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"criticalLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"nonRecoverableLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}])={$FAN.STATUS.CRIT:"failed"}'
                  tags:
                    - tag: scope
                      value: availability
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#FAN_STATUS}'
                - 1.3.6.1.4.1.674.10892.5.4.700.12.1.5
                - '0'
                - '{#FAN_DESCR}'
                - 1.3.6.1.4.1.674.10892.5.4.700.12.1.8
                - '0'
                - '{#TYPE}'
                - 1.3.6.1.4.1.674.10892.5.4.700.12.1.7
                - '0'
        - uuid: 4af57247ef084460a4e5332ad5858f55
          name: 'Memory discovery'
          type: DEPENDENT
          key: memory.discovery
          delay: '0'
          description: 'Memory discovery.'
          item_prototypes:
            - uuid: 0d6517b111ab4612af9e691af9ab254d
              name: 'Memory [{#SNMPVALUE}]: Size'
              type: DEPENDENT
              key: 'dell.server.memory.size[{#SNMPVALUE}]'
              delay: '0'
              units: B
              description: 'This attribute defines the size, in KB, of the memory device. Zero indicates no memory installed; 2,147,483,647 indicates an unknown memory size.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.50.1.14.1.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
                - type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: dell.server.memory.walk
              tags:
                - tag: component
                  value: memory
            - uuid: 636bd10a7b52400ba322593347143ab7
              name: 'Memory [{#SNMPVALUE}]: Status'
              type: DEPENDENT
              key: 'dell.server.memory.status[{#SNMPVALUE}]'
              delay: '0'
              description: 'This attribute defines the status of the memory device.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.50.1.5.1.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.memory.walk
              tags:
                - tag: component
                  value: memory
              trigger_prototypes:
                - uuid: 47451f95b5dd4f65bdf0dc3eaa7ddf99
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.memory.status[{#SNMPVALUE}],#1)<>3'
                  name: 'Dell R540: Memory [{#SNMPVALUE}]: Status is not OK'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    MIB: IDRAC-MIB-SMIv2
                    Memory status is not OK.
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: dell.server.memory.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#SNMPVALUE}'
                - 1.3.6.1.4.1.674.10892.5.4.1100.50.1.8.1
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: d817d4a9fe02404a8ed98e6a8ea66f4b
          name: 'Network interface discovery'
          type: DEPENDENT
          key: net.if.discovery
          delay: '0'
          description: 'Discovery of network interfaces.'
          item_prototypes:
            - uuid: 8fa375cc0e9b43fca096fb16ced038c8
              name: 'Interface {#NIC_FQDD}: Link status'
              type: DEPENDENT
              key: 'dell.server.net.if.link[{#NIC_FQDD}]'
              delay: '0'
              description: 'This attribute defines the connection status of the network device.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::NetworkDeviceConnectionStatusEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.90.1.4.1.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.net.if.walk
              tags:
                - tag: component
                  value: network
              trigger_prototypes:
                - uuid: 3346313e0b4540768224614103292e45
                  expression: '{$IFCONTROL:"{#NIC_FQDD}"}=1 and last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.if.link[{#NIC_FQDD}],#1)<>1 and last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.if.link[{#NIC_FQDD}],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.if.link[{#NIC_FQDD}],#2)'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.if.link[{#NIC_FQDD}],#1)=1 or {$IFCONTROL:"{#NIC_FQDD}"}=0'
                  name: 'Dell R540: NIC [{#NIC_FQDD}/{#NIC_MAC}]: Link down'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    This trigger expression works as follows:
                    1. It can be triggered if the operations status is Down.
                    2. `{$IFCONTROL:"{#NIC_FQDD}"}=1` - a user can redefine the context macro to "0", marking this interface as not important. No new trigger will be fired if this interface is Down.
                    3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, does not fire for the "eternal off" interfaces.)
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 5517001ab2bb447aa744b3e65ef03a2f
              name: 'Interface {#NIC_FQDD}: MAC'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.1100.90.1.15.1.{#SNMPINDEX}'
              key: 'dell.server.net.if.mac[{#NIC_FQDD}]'
              value_type: CHAR
              trends: '0'
              description: 'MIB: IF-MIB MAC of interface'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
                - type: SNMP_GET_VALUE
                  parameters:
                    - '2'
              tags:
                - tag: component
                  value: network
            - uuid: f9b460242102483d9e5f02a020b3e074
              name: 'Interface {#NIC_FQDD}: Status'
              type: DEPENDENT
              key: 'dell.server.net.if.status[{#NIC_FQDD}]'
              delay: '0'
              description: 'This attribute defines the status of the network device.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.1100.90.1.3.1.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.net.if.walk
              tags:
                - tag: component
                  value: network
              trigger_prototypes:
                - uuid: e0437197e0654beda4281c63f0178dfc
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.if.status[{#NIC_FQDD}],#1)<>3'
                  name: 'Dell R540: NIC [{#NIC_FQDD}/{#NIC_MAC}]: Status is not OK'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    MIB: IDRAC-MIB-SMIv2
                    Network interface status is not OK.
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: dell.server.net.if.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#NIC_FQDD}'
                - 1.3.6.1.4.1.674.10892.5.4.1100.90.1.30.1
                - '0'
                - '{#NIC_MAC}'
                - 1.3.6.1.4.1.674.10892.5.4.1100.90.1.15.1
                - '2'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: 78a637bb3d8d45a5aeaa9b086a76a504
          name: 'Physical disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.1,1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.2]'
          key: physicaldisk.discovery
          delay: 1h
          description: 'Scanning  table of physical drive entries IDRAC-MIB-SMIv2::physicalDiskTable.'
          item_prototypes:
            - uuid: c29272cc6ee14dfcbf89d16d27d2f5f3
              name: '{#DISK_NAME} Media type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.35.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.media_type[physicalDiskMediaType.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The media type of the physical disk. Possible Values:
                1: The media type could not be determined.
                2: Hard Disk Drive (HDD).
                3: Solid State Drive (SSD).
              valuemap:
                name: 'IDRAC-MIB-SMIv2::physicalDiskMediaType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 6f59887f558f442a83096e37043f8335
              name: '{#DISK_NAME} Model name'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.6.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.model[physicalDiskProductID.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The model number of the physical disk.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 8580279d98ea4a43ad1e5175f942a7f1
              name: '{#DISK_NAME} Serial number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.7.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}]'
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The physical disk's unique identification number from the manufacturer.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 3818fcf4c66e4cfebaf1ba80130cd613
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}],#1)<>last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}],#2) and length(last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}]))>0'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} has been replaced'
                  event_name: 'DELL PowerEdge R540: {#DISK_NAME} has been replaced (new serial number received)'
                  priority: INFO
                  description: '{#DISK_NAME} serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: f2b48ed15f7a4b5d8d15c760b85e42ac
              name: '{#DISK_NAME} Size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.11.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.size[physicalDiskCapacityInMB.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                MIB: IDRAC-MIB-SMIv2
                The size of the physical disk in megabytes.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
            - uuid: 59c15902173c435788e1909300cd4119
              name: '{#DISK_NAME} S.M.A.R.T. Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.31.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.smart_status[physicalDiskSmartAlertIndication.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                Indicates whether the physical disk has received a predictive failure alert.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::BooleanType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 4bfa1e8532ec49369cec44e362411599
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.smart_status[physicalDiskSmartAlertIndication.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDrive"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.smart_status[physicalDiskSmartAlertIndication.{#SNMPINDEX}])={$DISK.SMART.STATUS.FAIL:"replaceDriveSSDWearOut"}'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} S.M.A.R.T. failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Disk probably requires replacement.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#DISK_NAME} failed'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"critical"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"nonRecoverable"}'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 4966329ce15745c89d1b82913db3ded9
              name: '{#DISK_NAME} Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.24.{#SNMPINDEX}'
              key: 'dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The status of the physical disk itself without the propagation of any contained component status.
                Possible values:
                1: Other
                2: Unknown
                3: OK
                4: Non-critical
                5: Critical
                6: Non-recoverable
              valuemap:
                name: 'IDRAC-MIB-SMIv2::physicalDiskComponentStatus'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: physicaldisk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: cee72f2b6d094c228f8fc34cadd4dc8b
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"critical"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"nonRecoverable"}'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 21886c1841584b009d359fa6fc51f5b4
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.WARN:"nonCritical"}'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check physical disk for warnings or errors.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#DISK_NAME} failed'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"critical"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}])={$DISK.STATUS.FAIL:"nonRecoverable"}'
                  tags:
                    - tag: scope
                      value: availability
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#DISK_NUMBER}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.1
                - '0'
                - '{#DISK_NAME}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.2
                - '0'
        - uuid: d613214ae3644a03be50e333a120655b
          name: 'PSU discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.600.12.1.2.1,1.3.6.1.4.1.674.10892.5.4.600.12.1.15.1]'
          key: psu.discovery
          description: 'IDRAC-MIB-SMIv2::powerSupplyTable'
          item_prototypes:
            - uuid: c7e0f300f0104c5ca703b7c9899f06b3
              name: 'Power supply [{#PSU_NAME}]: Output watts (rated)'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.4.600.12.1.16.1.{#SNMPINDEX}]'
              key: 'dell.server.sensor.psu.output.watts[powerSupplyOutputWatts.{#SNMPINDEX}]'
              value_type: FLOAT
              units: W
              tags:
                - tag: component
                  value: psu
            - uuid: ed3ff6708cc84ed4937b3bd29602c43a
              name: '{#PSU_NAME}: Status'
              type: SNMP_AGENT
              snmp_oid: 'get[1.3.6.1.4.1.674.10892.5.4.600.12.1.5.1.{#SNMPINDEX}]'
              key: 'dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                0600.0012.0001.0005 This attribute defines the status of the power supply.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: psu
              trigger_prototypes:
                - uuid: aa44f63775764e109c228d3791eac31d
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}])={$PSU.STATUS.CRIT:"critical"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}])={$PSU.STATUS.CRIT:"nonRecoverable"}'
                  name: 'DELL PowerEdge R540: Power supply {#PSU_DESCR} is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: DISASTER
                  description: 'Please check the power supply unit for errors.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 15bef3c04cd3405a893af831cedc8679
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}])={$PSU.STATUS.WARN:"nonCritical"}'
                  name: 'DELL PowerEdge R540: Power supply {#PSU_DESCR} is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the power supply unit for errors.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: Power supply {#PSU_DESCR} is in critical state'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}])={$PSU.STATUS.CRIT:"critical"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}])={$PSU.STATUS.CRIT:"nonRecoverable"}'
                  tags:
                    - tag: scope
                      value: availability
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#PSU_NAME}'
                - 1.3.6.1.4.1.674.10892.5.4.600.12.1.15.1
                - '0'
                - '{#PSU_INDEX}'
                - 1.3.6.1.4.1.674.10892.5.4.600.12.1.2.1
                - '0'
        - uuid: f6b583d491784dfc89c879d08149405f
          name: 'System battery discovery'
          type: DEPENDENT
          key: system.battery.discovery
          delay: '0'
          status: DISABLED
          description: 'System battery discovery.'
          item_prototypes:
            - uuid: 278a7dad5f984e7a87673418ed865cc2
              name: 'System battery [{#SNMPVALUE}]: Status'
              type: DEPENDENT
              key: 'dell.server.system.battery[{#SNMPVALUE}]'
              delay: '0'
              description: 'This attribute defines the status of the battery.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.600.50.1.5.1.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: dell.server.system.battery.walk
              tags:
                - tag: component
                  value: battery
              trigger_prototypes:
                - uuid: d120ceb9cbc54464bf2bf4912f34a99e
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.system.battery[{#SNMPVALUE}],#1)<>3'
                  name: 'Dell R540: System battery [{#SNMPVALUE}]: Status is not OK'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    MIB: IDRAC-MIB-SMIv2
                    System battery status is not OK.
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: dell.server.system.battery.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#SNMPVALUE}'
                - 1.3.6.1.4.1.674.10892.5.4.600.50.1.7.1
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
        - uuid: fba0f7db92a440f0a8e39c121ed86c1a
          name: 'Temperature discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.4.700.20.1.1,1.3.6.1.4.1.674.10892.5.4.700.20.1.8]'
          key: temp.discovery
          delay: 1h
          description: 'Scanning table of Temperature Probe Table IDRAC-MIB-SMIv2::temperatureProbeTable'
          item_prototypes:
            - uuid: 78886776531d4a8780a8bc7d0efae0ef
              name: '{#SENSOR_LOCALE} Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.5.{#SNMPINDEX}'
              key: 'dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}]'
              value_type: FLOAT
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                This attribute defines the probe status of the temperature probe.
                Possible values:
                other(1),               -- probe status is not one of the following:
                unknown(2),             -- probe status is unknown (not known or monitored)
                ok(3),                  -- probe is reporting a value within the thresholds
                nonCriticalUpper(4),    -- probe has crossed the upper noncritical threshold
                criticalUpper(5),       -- probe has crossed the upper critical threshold
                nonRecoverableUpper(6), -- probe has crossed the upper non-recoverable threshold
                nonCriticalLower(7),    -- probe has crossed the lower noncritical threshold
                criticalLower(8),       -- probe has crossed the lower critical threshold
                nonRecoverableLower(9), -- probe has crossed the lower non-recoverable threshold
                failed(10)              -- probe is not functional
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 6ddc4027849a4c958a5b520e84cb71c0
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableLower"}'
                  name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is in critical status'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: DISASTER
                  description: 'Please check the device for faults.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: bbeebb6d5e9e4a1b83c52e14532e5f06
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.WARN:"nonCriticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.WARN:"nonCriticalLower"}'
                  name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is in warning status'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is in critical status'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableLower"}'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 3312d051ba114af4a60eeb18cf2abae7
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])<>{$SENSOR.TEMP.STATUS.OK}'
                  name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is not in optimal status'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: INFO
                  description: 'Please check the device for faults.'
                  manual_close: 'YES'
                  dependencies:
                    - name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is in critical status'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"criticalLower"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableLower"}'
                    - name: 'DELL PowerEdge R540: Probe {#SENSOR_LOCALE} is in warning status'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.WARN:"nonCriticalUpper"} or last(/DELL PowerEdge R540 by SNMP custom/dell.server.sensor.temp.status[temperatureProbeStatus.{#SNMPINDEX}])={$SENSOR.TEMP.STATUS.WARN:"nonCriticalLower"}'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 30e7f6cd54bd4dc599f81b6f0eb11dee
              name: '{#SENSOR_LOCALE} Value'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.6.{#SNMPINDEX}'
              key: 'dell.server.sensor.temp.value[temperatureProbeReading.{#SNMPINDEX}]'
              value_type: FLOAT
              units: C
              description: |
                MIB: IDRAC-MIB-SMIv2
                This attribute defines the reading for a temperature probe of type other than temperatureProbeTypeIsDiscrete. When the value for temperatureProbeType is other than temperatureProbeTypeIsDiscrete, the value returned for this attribute is the temperature that the probe is reading in Centigrade. When the value for temperatureProbeType is temperatureProbeTypeIsDiscrete, a value is not returned for this attribute.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: temperature
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#SENSOR_INDEX}'
                - 1.3.6.1.4.1.674.10892.5.4.700.20.1.1
                - '0'
                - '{#SENSOR_LOCALE}'
                - 1.3.6.1.4.1.674.10892.5.4.700.20.1.8
                - '0'
        - uuid: 163ee456642b471297d5b531857fbaa6
          name: 'Virtual disk discovery'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.1,1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.2]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::virtualDiskTable'
          item_prototypes:
            - uuid: 08994ae06e4f4d53b5232059540fb32d
              name: '{#DISK_NAME} Layout type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.13.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.layout[virtualDiskLayout.{#SNMPINDEX}]'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The virtual disk's RAID type.
                Possible values:
                1: Not one of the following
                2: RAID-0
                3: RAID-1
                4: RAID-5
                5: RAID-6
                6: RAID-10
                7: RAID-50
                8: RAID-60
                9: Concatenated RAID 1
                10: Concatenated RAID 5
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskLayout'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 8e945b6f6d544e82882d74094bb06097
              name: '{#DISK_NAME} Read policy'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.11.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.readpolicy[virtualDiskReadPolicy.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: IDRAC-MIB-SMIv2
                The read policy used by the controller for read operations on this virtual disk.
                Possible values:
                1: No Read Ahead.
                2: Read Ahead.
                3: Adaptive Read Ahead.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskReadPolicy'
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 7559f2fd6aea49f4a8dfbd91c6428871
              name: '{#DISK_NAME} Size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.6.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.size[virtualDiskSizeInMB.{#SNMPINDEX}]'
              trends: '0'
              units: B
              description: |
                MIB: IDRAC-MIB-SMIv2
                The size of the virtual disk in megabytes.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: 5fcd07eec7e94a62b4492e89ff5b9eae
              name: '{#DISK_NAME} Current state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.30.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.state[virtualDiskOperationalState.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: IDRAC-MIB-SMIv2
                The state of the virtual disk when there are progressive operations ongoing.
                Possible values:
                1: There is no active operation running.
                2: The virtual disk configuration has changed. The physical disks included in the virtual disk are being modified to support the new configuration.
                3: A Consistency Check (CC) is being performed on the virtual disk.
                4: The virtual disk is being initialized.
                5: BackGround Initialization (BGI) is being performed on the virtual disk.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskOperationalState'
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
            - uuid: a1b74d918ff8469a87aafbadf8dbdb2f
              name: '{#DISK_NAME} Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.4.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}]'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The current state of this virtual disk (which includes any member physical disks.)
                Possible states:
                1: The current state could not be determined.
                2: The virtual disk is operating normally or optimally.
                3: The virtual disk has encountered a failure. Data on the disk is lost or is about to be lost.
                4: The virtual disk encountered a failure with one or all of the constituent redundant physical disks.
                The data on the virtual disk might no longer be fault tolerant.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskState'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
              trigger_prototypes:
                - uuid: d5598639e65748e5b747911aabc5ae4a
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}])={$VDISK.STATUS.CRIT:"failed"}'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the virtual disk for warnings or errors.'
                  tags:
                    - tag: scope
                      value: availability
                - uuid: 875e8c7d38cd4e68ad38720171624fed
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}])={$VDISK.STATUS.WARN:"degraded"}'
                  name: 'DELL PowerEdge R540: {#DISK_NAME} is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the virtual disk for warnings or errors.'
                  dependencies:
                    - name: 'DELL PowerEdge R540: {#DISK_NAME} failed'
                      expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}])={$VDISK.STATUS.CRIT:"failed"}'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 1b14004423114693b9f2dac6f03cb3c8
              name: '{#DISK_NAME} Write policy'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.10.{#SNMPINDEX}'
              key: 'dell.server.hw.virtualdisk.writepolicy[virtualDiskWritePolicy.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: IDRAC-MIB-SMIv2
                The write policy used by the controller for write operations on this virtual disk.
                Possible values:
                1: Write Through.
                2: Write Back.
                3: Force Write Back.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskWritePolicy'
              tags:
                - tag: component
                  value: storage
                - tag: component
                  value: virtualdisk
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#DISK_NUMBER}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.1
                - '0'
                - '{#DISK_NAME}'
                - 1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.2
                - '0'
        - uuid: 618a43a08945426cb5c72dc4a4ad65fd
          name: 'Voltage probe discovery'
          type: DEPENDENT
          key: voltage.discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#VPROBE_NAME}'
                value: '{$DELL.SNMP.DISCOVERY.VOLTAGE.NAME.MATCHES}'
                formulaid: A
              - macro: '{#VPROBE_NAME}'
                value: '{$DELL.SNMP.DISCOVERY.VOLTAGE.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#VPROBE_TYPE}'
                value: '{$DELL.SNMP.DISCOVERY.VOLTAGE.TYPE.MATCHES}'
                formulaid: C
              - macro: '{#VPROBE_TYPE}'
                value: '{$DELL.SNMP.DISCOVERY.VOLTAGE.TYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
          description: 'Voltage probe discovery.'
          item_prototypes:
            - uuid: 9827abd23aa14040bc7957b32a25883e
              name: 'Voltage probe [{#VPROBE_NAME}]: Status'
              type: DEPENDENT
              key: 'dell.server.voltage.status[{#VPROBE_NAME}]'
              delay: '0'
              description: 'This attribute defines the status of the voltage probe.'
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.600.20.1.5.1.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: dell.server.voltage.walk
              tags:
                - tag: component
                  value: voltage
              trigger_prototypes:
                - uuid: a2bd1fe506dd4804bf9cf13de4fc3813
                  expression: 'last(/DELL PowerEdge R540 by SNMP custom/dell.server.voltage.status[{#VPROBE_NAME}])<>3'
                  name: 'Dell R540: Voltage probe [{#VPROBE_NAME}]: Status is not OK'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device''s voltage.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 7c955f82bc61426783f0d1a3e9a2f2b0
              name: 'Voltage probe [{#VPROBE_NAME}]: Voltage'
              type: DEPENDENT
              key: 'dell.server.voltage.value[{#VPROBE_NAME}]'
              delay: '0'
              value_type: FLOAT
              units: V
              description: 'This attribute defines the reading for a voltage probe.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.674.10892.5.4.600.20.1.6.1.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: dell.server.voltage.walk
              tags:
                - tag: component
                  value: voltage
          graph_prototypes:
            - uuid: 5dbe08e4c01942299514555b175e0c3b
              name: 'Dell R540: Voltage probe [{#VPROBE_NAME}]: Voltage'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'DELL PowerEdge R540 by SNMP custom'
                    key: 'dell.server.voltage.value[{#VPROBE_NAME}]'
          master_item:
            key: dell.server.voltage.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#VPROBE_NAME}'
                - 1.3.6.1.4.1.674.10892.5.4.600.20.1.8.1
                - '0'
                - '{#VPROBE_TYPE}'
                - 1.3.6.1.4.1.674.10892.5.4.600.20.1.7.1
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: dell
        - tag: target
          value: 'dell poweredge'
      macros:
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.CRIT}'
          value: '3'
          description: 'The critical status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.OK}'
          value: '2'
          description: 'The OK status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.CACHE.BATTERY.STATUS.WARN}'
          value: '4'
          description: 'The warning status of the disk array cache battery for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.CRIT}'
          value: '5'
          description: 'The critical status of the disk array for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.FAIL}'
          value: '6'
          description: 'The disaster status of the disk array for trigger expression.'
        - macro: '{$DISK.ARRAY.STATUS.WARN}'
          value: '4'
          description: 'The warning status of the disk array for trigger expression.'
        - macro: '{$DISK.SMART.STATUS.FAIL}'
          value: '1'
          description: 'The critical S.M.A.R.T status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.FAIL:"critical"}'
          value: '5'
          description: 'The critical status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.FAIL:"nonRecoverable"}'
          value: '6'
          description: 'The critical status of the disk for trigger expression.'
        - macro: '{$DISK.STATUS.WARN:"nonCritical"}'
          value: '4'
          description: 'The warning status of the disk for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT:"criticalLower"}'
          value: '8'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT:"criticalUpper"}'
          value: '5'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT:"failed"}'
          value: '10'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT:"nonRecoverableLower"}'
          value: '9'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.CRIT:"nonRecoverableUpper"}'
          value: '6'
          description: 'The critical value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.WARN:"nonCriticalLower"}'
          value: '7'
          description: 'The warning value of the FAN sensor for trigger expression.'
        - macro: '{$FAN.STATUS.WARN:"nonCriticalUpper"}'
          value: '4'
          description: 'The warning value of the FAN sensor for trigger expression.'
        - macro: '{$HEALTH.STATUS.CRIT}'
          value: '5'
          description: 'The critical status of the health for trigger expression.'
        - macro: '{$HEALTH.STATUS.DISASTER}'
          value: '6'
          description: 'The disaster status of the health for trigger expression.'
        - macro: '{$HEALTH.STATUS.WARN}'
          value: '4'
          description: 'The warning status of the health for trigger expression.'
        - macro: '{$IF.ERRORS.WARN}'
          value: '2'
          description: 'Warning threshold of error packet rate. Can be used with interface name as context.'
        - macro: '{$IF.UTIL.MAX}'
          value: '90'
        - macro: '{$IFCONTROL}'
          value: '1'
          description: 'The warning status of the health for trigger expression.'
        - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
          value: '^.*'
        - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
          value: ^2$
          description: 'Ignore down(2) administrative status'
        - macro: '{$NET.IF.IFALIAS.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFALIAS.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$NET.IF.IFDESCR.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$NET.IF.IFNAME.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
          value: '(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})'
          description: 'Filter out loopbacks, nulls, docker veth links and docker0 bridge by default'
        - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
          value: ^6$
          description: 'Ignore notPresent(6)'
        - macro: '{$NET.IF.IFTYPE.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$PSU.STATUS.CRIT:"critical"}'
          value: '5'
          description: 'The critical value of the PSU sensor for trigger expression.'
        - macro: '{$PSU.STATUS.CRIT:"nonRecoverable"}'
          value: '6'
          description: 'The critical value of the PSU sensor for trigger expression.'
        - macro: '{$PSU.STATUS.WARN:"nonCritical"}'
          value: '4'
          description: 'The warning value of the PSU sensor for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.CRIT:"criticalLower"}'
          value: '8'
          description: 'The critical status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.CRIT:"criticalUpper"}'
          value: '5'
          description: 'The critical status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableLower"}'
          value: '9'
          description: 'The critical status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.CRIT:"nonRecoverableUpper"}'
          value: '6'
          description: 'The critical status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.OK}'
          value: '3'
          description: 'The OK status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.WARN:"nonCriticalLower"}'
          value: '7'
          description: 'The warning status of the temperature probe for trigger expression.'
        - macro: '{$SENSOR.TEMP.STATUS.WARN:"nonCriticalUpper"}'
          value: '4'
          description: 'The warning status of the temperature probe for trigger expression.'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        - macro: '{$VDISK.STATUS.CRIT:"failed"}'
          value: '3'
          description: 'The critical status of the virtual disk for trigger expression.'
        - macro: '{$VDISK.STATUS.WARN:"degraded"}'
          value: '4'
          description: 'The warning status of the virtual disk for trigger expression.'
      dashboards:
        - uuid: 43366d1a18b84457b59953ccb3823964
          name: Overview
          pages:
            - name: Overview
              display_period: '30'
              widgets:
                - type: item
                  name: 'System health'
                  width: '36'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: STRING
                      name: description
                      value: 'System Health'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'DELL PowerEdge R540 by SNMP custom'
                        key: 'dell.server.status[globalSystemStatus]'
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: show.1
                      value: '1'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Serial number'
                  'y': '4'
                  width: '36'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: STRING
                      name: description
                      value: 'Serial number'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'DELL PowerEdge R540 by SNMP custom'
                        key: 'dell.server.hw.serialnumber[systemServiceTag]'
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: show.1
                      value: '1'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'HW model'
                  x: '36'
                  width: '36'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: STRING
                      name: description
                      value: 'HW model'
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'DELL PowerEdge R540 by SNMP custom'
                        key: 'dell.server.hw.model[systemModelName]'
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: show.1
                      value: '1'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: Firmware
                  x: '36'
                  'y': '4'
                  width: '36'
                  height: '4'
                  hide_header: 'YES'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 2196F3
                    - type: STRING
                      name: description
                      value: Firmware
                    - type: STRING
                      name: desc_color
                      value: FFFFFF
                    - type: INTEGER
                      name: desc_v_pos
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'DELL PowerEdge R540 by SNMP custom'
                        key: 'dell.server.hw.firmware[racFirmwareVersion]'
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: show.1
                      value: '1'
                    - type: STRING
                      name: value_color
                      value: FFFFFF
                    - type: INTEGER
                      name: value_size
                      value: '35'
            - name: Discoveries
              display_period: '30'
              widgets:
                - type: honeycomb
                  name: 'Interface link'
                  width: '72'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'NIC*Link status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size
                      value: '15'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAA
                    - type: STRING
                      name: thresholds.0.color
                      value: 069C56
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF681E
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '2'
                    - type: STRING
                      name: thresholds.2.color
                      value: D3212C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '3'
                - type: honeycomb
                  name: 'Temperature sensors'
                  'y': '4'
                  width: '72'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Probe*Value'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAB
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                - type: honeycomb
                  name: 'Physical disks'
                  'y': '8'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Physical disk*: Status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size
                      value: '15'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAC
                    - type: STRING
                      name: thresholds.0.color
                      value: FF980E
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: 069C56
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '3'
                    - type: STRING
                      name: thresholds.2.color
                      value: D3212C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '4'
                - type: honeycomb
                  name: 'Power supplies'
                  'y': '12'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Voltage probe*Voltage'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: honeycomb
                  name: 'Virtual disks'
                  x: '36'
                  'y': '8'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Virtual disk*: Status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAD
                    - type: STRING
                      name: thresholds.0.color
                      value: FF980E
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.1.color
                      value: 069C56
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '2'
                    - type: STRING
                      name: thresholds.2.color
                      value: D3212C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '3'
                - type: honeycomb
                  name: Fans
                  x: '36'
                  'y': '12'
                  width: '36'
                  height: '4'
                  fields:
                    - type: STRING
                      name: items.0
                      value: 'Fan*Status'
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("\[(.*?)\]", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAF
                    - type: STRING
                      name: thresholds.0.color
                      value: FF980E
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: 069C56
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '3'
                    - type: STRING
                      name: thresholds.2.color
                      value: D3212C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '4'
      valuemaps:
        - uuid: a1eb78ca54f14ad9b8e550818dbf9a76
          name: 'IDRAC-MIB-SMIv2::batteryState'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Ready
            - value: '3'
              newvalue: Failed
            - value: '4'
              newvalue: Degraded
            - value: '5'
              newvalue: Missing
            - value: '6'
              newvalue: Charging
            - value: '7'
              newvalue: 'Below threshold'
        - uuid: f88f3549379446e49b77708c06a9c464
          name: 'IDRAC-MIB-SMIv2::BooleanType'
          mappings:
            - value: '0'
              newvalue: ok
            - value: '1'
              newvalue: failed
        - uuid: 7165c7b389bb48ebb0176db973f10e8b
          name: 'IDRAC-MIB-SMIv2::NetworkDeviceConnectionStatusEnum'
          mappings:
            - value: '0'
              newvalue: unknown
            - value: '1'
              newvalue: connected
            - value: '2'
              newvalue: disconnected
            - value: '3'
              newvalue: driverBad
            - value: '4'
              newvalue: driverDisabled
            - value: '10'
              newvalue: hardwareInitalizing
            - value: '11'
              newvalue: hardwareResetting
            - value: '12'
              newvalue: hardwareClosing
            - value: '13'
              newvalue: hardwareNotReady
        - uuid: 1171997f1e5d4593bdade687e3a45d89
          name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCritical
            - value: '5'
              newvalue: critical
            - value: '6'
              newvalue: nonRecoverable
        - uuid: 11eb983d0d72432fa66451ad4b23893f
          name: 'IDRAC-MIB-SMIv2::physicalDiskComponentStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCritical
            - value: '5'
              newvalue: critical
            - value: '6'
              newvalue: nonRecoverable
        - uuid: fabeb5965e67488db403df09476a9b1a
          name: 'IDRAC-MIB-SMIv2::physicalDiskMediaType'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: HDD
            - value: '3'
              newvalue: SSD
        - uuid: 9803f60ea37a4b41bf28ef9c6ae264c6
          name: 'IDRAC-MIB-SMIv2::ProcessorDeviceStatusReadingFlags'
          mappings:
            - value: '1'
              newvalue: internalError
            - value: '2'
              newvalue: thermalTrip
            - value: '32'
              newvalue: configurationError
            - value: '128'
              newvalue: processorPresent
            - value: '256'
              newvalue: processorDisabled
            - value: '512'
              newvalue: terminatorPresent
            - value: '1024'
              newvalue: processorThrottled
        - uuid: 5bfa20e7c6b5439f9b49e6a2e5fe9658
          name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCriticalUpper
            - value: '5'
              newvalue: criticalUpper
            - value: '6'
              newvalue: nonRecoverableUpper
            - value: '7'
              newvalue: nonCriticalLower
            - value: '8'
              newvalue: criticalLower
            - value: '9'
              newvalue: nonRecoverableLower
            - value: '10'
              newvalue: failed
        - uuid: bd4b742228f34561b21fc0a61647fdf5
          name: 'IDRAC-MIB-SMIv2::virtualDiskLayout'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: RAID-0
            - value: '3'
              newvalue: RAID-1
            - value: '4'
              newvalue: RAID-5
            - value: '5'
              newvalue: RAID-6
            - value: '6'
              newvalue: RAID-10
            - value: '7'
              newvalue: RAID-50
            - value: '8'
              newvalue: RAID-60
            - value: '9'
              newvalue: 'Concatenated RAID 1'
            - value: '10'
              newvalue: 'Concatenated RAID 5'
        - uuid: f2c620c4fb8f469e82aecda3ead534e6
          name: 'IDRAC-MIB-SMIv2::virtualDiskOperationalState'
          mappings:
            - value: '1'
              newvalue: 'Not applicable'
            - value: '2'
              newvalue: Reconstructing
            - value: '3'
              newvalue: Resynching
            - value: '4'
              newvalue: Initializing
            - value: '5'
              newvalue: 'Background init'
        - uuid: 46f4413b7f1946dd93008940690d7c49
          name: 'IDRAC-MIB-SMIv2::virtualDiskReadPolicy'
          mappings:
            - value: '1'
              newvalue: 'No Read Ahead'
            - value: '2'
              newvalue: 'Read Ahead'
            - value: '3'
              newvalue: 'Adaptive Read Ahead'
        - uuid: ee280e9663ad4066b80af375aea1ebfb
          name: 'IDRAC-MIB-SMIv2::virtualDiskState'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Online
            - value: '3'
              newvalue: Failed
            - value: '4'
              newvalue: Degraded
        - uuid: e5b3ecf0d6e34f99ada461e36c312081
          name: 'IDRAC-MIB-SMIv2::virtualDiskWritePolicy'
          mappings:
            - value: '1'
              newvalue: 'Write Through'
            - value: '2'
              newvalue: 'Write Back'
            - value: '3'
              newvalue: 'Force Write Back'
        - uuid: cf916750f7c04bfd82e09a91b9eb98d0
          name: 'IF-MIB::ifOperStatus'
          mappings:
            - value: '1'
              newvalue: up
            - value: '2'
              newvalue: down
            - value: '4'
              newvalue: unknown
            - value: '5'
              newvalue: dormant
            - value: '6'
              newvalue: notPresent
            - value: '7'
              newvalue: lowerLayerDown
        - uuid: f6aa768c40b94b2097131fecd391db00
          name: 'IF-MIB::ifType'
          mappings:
            - value: '1'
              newvalue: other
            - value: '6'
              newvalue: ethernetCsmacd
            - value: '7'
              newvalue: iso88023Csmacd
            - value: '11'
              newvalue: starLan
            - value: '62'
              newvalue: fastEther
            - value: '69'
              newvalue: fastEtherFX
            - value: '117'
              newvalue: gigabitEthernet
        - uuid: af5530409a5e44c9978d21d9365c993c
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 2f1569dac9b741e196f90843c2129142
      expression: '(last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.uptime[systemPowerUpTime])>0 and last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.uptime[systemPowerUpTime])<10m) or (last(/DELL PowerEdge R540 by SNMP custom/dell.server.hw.uptime[systemPowerUpTime])=0 and last(/DELL PowerEdge R540 by SNMP custom/dell.server.net.uptime[snmpEngineTime])<10m)'
      name: 'Dell R540: Host has been restarted'
      event_name: 'Dell R540: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: HIGH
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      tags:
        - tag: scope
          value: notice
  graphs:
    - uuid: a2db2da682d44e63a6022e19d9cf8bad
      name: 'Dell R540: Uptime'
      graph_items:
        - color: 199C0D
          item:
            host: 'DELL PowerEdge R540 by SNMP custom'
            key: 'dell.server.hw.uptime[systemPowerUpTime]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'DELL PowerEdge R540 by SNMP custom'
            key: 'dell.server.net.uptime[snmpEngineTime]'
